<?xml version="1.0" encoding="UTF-8" ?>
<library>
	
<!--- it shows chat participants. -->
<class name="chatParticipants" extends="view" height="40" clickable="true"
	   width="$once{ parent.width }" bgcolor="$once{ canvas.bgColorMenuItems }">
	<attribute name="user_id" value="0" type="number" />
	<attribute name="username" value="" type="string" />
	<attribute name="connectedSince" value="" type="string" />
	<attribute name="publicSID" value="" type="string" />
	<handler name="oninit">
		<![CDATA[
			if($debug) Debug.write("chatParticipants/WIDTH: "+this.width);
	        var downloadurl = 'http://'+canvas.rtmphostlocal+':'+canvas.red5httpport
	        		+canvas.httpRootKey+'DownloadHandler?fileName=CHAT'
	        		+'&moduleName=chat&parentPath=&room_id='
	        		+'&remoteUserid='+this.user_id
	        		+'&sid='+canvas.sessionId;
	        //Debug.write("downloadurl "+downloadurl);
	        this._userpic.setAttribute('src',downloadurl);	
	        
	        //Debug.write("TIME: "+this.usertime);
        ]]>
	</handler>
	<image name="_userpic" />
	<text text="$once{ parent.username }" x="40" resize="false"
		  width="$once{ parent.width - 40 }" />	
	
	<miniIcons resource="start_conference2_rsc" width="16" height="16" 
			   y="20" x="$once{ parent.width - 20 }" showhandcursor="true">
		<handler name="onclick">
			if ($debug) Debug.write("Start Conference");
			new lz.chatParticipantsInviteConference(canvas,{
            			    publicSID:parent.publicSID
            			});
		</handler>
		<labelTooltip labelid="1131" />
	</miniIcons>	 
	
	<labelTooltip text="$once{ parent.connectedSince }" /> 
	
</class>

</library>
