<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE beans PUBLIC "-//SPRING//DTD BEAN//EN" "http://www.springframework.org/dtd/spring-beans.dtd">
<beans>
    
    <bean id="placeholderConfig" class="org.springframework.beans.factory.config.PropertyPlaceholderConfigurer">
        <property name="location" value="/WEB-INF/red5-web.properties" />
    </bean>
    
    <bean id="web.context" class="org.red5.server.Context" 
        autowire="byType" />
    
    <bean id="web.scope" class="org.red5.server.WebScope"
         init-method="register">
        <property name="server" ref="red5.server" />
        <property name="parent" ref="global.scope" />
        <property name="context" ref="web.context" />
        <property name="handler" ref="web.handler" />
        <property name="contextPath" value="${webapp.contextPath}" />
        <property name="virtualHosts" value="${webapp.virtualHosts}" />
    </bean>
    
    <!-- New Class for the Streaming Handlers -->
    <bean id="web.handler" 
        class="org.openmeetings.app.remote.red5.ScopeApplicationAdapter">
        <property name="clientListManager" ref="openmeetings.ClientListManager" />
        <property name="emoticonsManager" ref="openmeetings.EmoticonsManager" />
        <property name="whiteBoardService" ref="whiteboardservice.service" />
        <property name="flvRecorderService" ref="flvrecorderservice.service" />
    </bean>
        
    <bean id="openmeetings.ClientListManager"
        class="org.openmeetings.app.remote.red5.ClientListManager">
    </bean> 
    
    <bean id="openmeetings.EmoticonsManager" 
        class="org.openmeetings.app.remote.red5.EmoticonsManager">
    </bean> 
 
    <bean id="openmeetings.WhiteBoardObjectListManager"
        class="org.openmeetings.app.remote.red5.WhiteBoardObjectListManager">
    </bean> 
    
    <bean id="openmeetings.WhiteBoardObjectListManagerById"
        class="org.openmeetings.app.remote.red5.WhiteBoardObjectListManagerById">
    </bean>       
        
    <!-- DATABASE Connection via hibernate
    <bean id="theSessionFactory" class="org.springframework.orm.hibernate3.LocalSessionFactoryBean">
        <property name="configLocation"
            value="conf/hibernate.cfg.xml"/>
    </bean>
      -->
  
    <import resource="red5-services/appointmentcategoryservice.service.xml"/> 
    <import resource="red5-services/appointmentreminderservice.service.xml"/>
    <import resource="red5-services/calendarservice.service.xml"/> 
    <import resource="red5-services/meetingmemberservice.service.xml"/>  
    <import resource="red5-services/fileservice.service.xml"/>  
    <import resource="red5-services/conferenceservice.service.xml"/>  
    <import resource="red5-services/userservice.service.xml"/>  
    <import resource="red5-services/organisationservice.service.xml"/>  
    <import resource="red5-services/configservice.service.xml"/>  
    <import resource="red5-services/errorservice.service.xml"/>  
    <import resource="red5-services/pollservice.service.xml"/>  
    <import resource="red5-services/xmlcrm.service.xml"/>  
    <import resource="red5-services/issueservice.service.xml"/>  
    <import resource="red5-services/languageservice.service.xml"/>  
    <import resource="red5-services/chatservice.service.xml"/>  
    <import resource="red5-services/streamservice.service.xml"/>  
    <import resource="red5-services/invitationservice.service.xml"/>  
    <import resource="red5-services/whiteboardservice.service.xml"/>  
    <import resource="red5-services/printservice.service.xml"/>  
    <import resource="red5-services/flvrecorderservice.service.xml"/> 
    <import resource="red5-services/ldapconfigservice.service.xml"/> 
    <!--
    <import resource="red5-services/schedulerJobs.service.xml"/>  
     -->

           
</beans>
